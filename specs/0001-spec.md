# Idea

I want to build a tool that can covert my app idea to executable postgres database schema migration and seed data. Use claude-agent-sdk, refer to .venv/lib/python3.12/site-packages/claude_agent_sdk/examples on how to use the claude agent sdk to build an agent. And:

- Append @specs/system-prompt.md as the system prompt for the agent.
- Hook the PreToolUse for `TodoWrite` to get a list of todos produced by the agent and send them to the CLI for rendering. The CLI should looks lke this:

```bash
uv run build-idea -p /tmp/todos
Describe your idea: <user_input>
/tmp/todos created

Executing agent <**agent_name**> (5s)... # live updated time

-- A live updated table of todos
[*] item 1 (2s) # spinning on current running task, live updated time, once done, put green check and spin on next one
[ ] item 2
[ ] item 3
--
```

- When all done, the CLI should show the final message from ResultMessage (if is_error is true, show result message in red, otherwise show message normally).

Agent code should be put under ./agents and CLI code should be put under ./cli. Use `click` and `rich` for user-friendly, interactive and live-updated CLI.
